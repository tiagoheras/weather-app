(()=>{"use strict";const t="a94b98782a4ef17d021ef8a83abc3b4f",e={async getCoords(e){const a=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${t}`),n=await a.json();return{coords:n.coord,city:n.name}},async getWeather(e,a,n="metric"){const o=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${a}&units=${n}&appid=${t}`);return await o.json()}},a=document.forms[0],n=document.getElementById("temp"),o=document.getElementById("city");function c(t){let e;e="metric"===t.unit?"C":"F",n.innerText=t.current.temp+" ยบ"+e,o.innerText=t.city}navigator.geolocation.getCurrentPosition((async t=>{const a=await e.getWeather(t.coords.latitude,t.coords.longitude);console.log(a)})),a.addEventListener("submit",(async t=>{t.preventDefault();const n=document.querySelector('input[name="unit"]:checked'),{coords:o,city:i}=await e.getCoords(a.children[0].value),r=await e.getWeather(o.lat,o.lon,n.value);r.city=i,r.unit=n.value,c(r)}))})();